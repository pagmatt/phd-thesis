% python code to extract the coordinates from Amir's file
% lat1 = np.array(iab_nodes_loc_list_tim[:,0])
% lat2 = np.array(iab_nodes_loc_list_vodafone[:,0])
% lat3 = np.array(iab_nodes_loc_list_windthree[:,0])
% lat = np.concatenate((lat1, lat2, lat3), axis=0)
% 
% lon1 = np.array(iab_nodes_loc_list_tim[:,1])
% lon2 = np.array(iab_nodes_loc_list_vodafone[:,1])
% lon3 = np.array(iab_nodes_loc_list_windthree[:,1])
% lon = np.concatenate((lon1, lon2, lon3), axis=0)
% 
% coords = np.asarray([ lat, lon])
% np.savetxt("coords.csv", coords, delimiter=",")
% print(lon)


% padova locations
iab_nodes=[45.39994795668189 11.86803971048304; 45.39985812515348 11.871417121815327; 45.40030728279554 11.880756175878089; 45.40372088087519 11.86847468012432; 45.40363104934678 11.885233804538316; 45.40417003851725 11.877557869692211; 45.405248016858195 11.865276373938443; 45.40515818532978 11.872696444289678; 45.40533784838661 11.876278547217861; 45.40551751144343 11.878197530929388; 45.40650565825596 11.864764644948702; 45.40641582672755 11.875127156990946; 45.40650565825596 11.878965124413998; 45.40749380506849 11.880628243630653; 45.40767346812532 11.867323289897405; 45.408571783409435 11.867451222144838; 45.40893110952308 11.869626070351236; 45.40875144646626 11.870009867093541; 45.409020941051494 11.875383021485815; 45.40947009869355 11.877557869692211; 45.408571783409435 11.880756175878089; 45.409020941051494 11.883570685321661; 45.408571783409435 11.886257262517798; 45.40722431048326 11.889711433198546; 45.4112667292618 11.86246186449487; 45.41378201205733 11.865276373938443; 45.41288369677321 11.875638885980685; 45.41396167511415 11.874487495753769; 45.412614202187974 11.885233804538316; 45.411715886903856 11.887805242711762; 45.415039653455096 11.877557869692211; 45.41611763179604 11.882163430599874; 45.417195610136986 11.869881934846106; 45.41800409389269 11.875127156990946; 45.41710577860857 11.878837192166563; 45.41710577860857 11.885233804538316; 45.41827358847793 11.88830417847676; 45.399399984358574 11.871161257320457; 45.39994795668189 11.875127156990946; 45.4000377882103 11.881395837115264; 45.40093610349442 11.88830417847676; 45.40327172323313 11.868346747876885; 45.40318189170472 11.874487495753769; 45.404259870045664 11.877557869692211; 45.40408020698884 11.880116514640914; 45.40533784838661 11.873080241031984; 45.40641582672755 11.87499922474351; 45.40587683755708 11.874487495753769; 45.40650565825596 11.874359563506335; 45.408571783409435 11.880628243630653; 45.40991925633561 11.863869119216657; 45.40982942480721 11.87499922474351; 45.409020941051494 11.88779244948702; 45.40938026716515 11.888176246229325; 45.41162605537544 11.86246186449487; 45.410727740091325 11.869881934846106; 45.412165044545915 11.877609042591185; 45.4120752130175 11.887920381734455; 45.41396167511415 11.865276373938443; 45.41369218052892 11.871417121815327; 45.41414133817098 11.873719902269158; 45.41306335983003 11.883698617569095; 45.41539897956874 11.877557869692211; 45.417195610136986 11.869881934846106; 45.415758305682395 11.881139972620394; 45.417195610136986 11.885233804538316; 45.41773459930746 11.863997051464091; 45.41800409389269 11.874487495753769; 45.41845325153475 11.88779244948702; 45.39994795668189 11.866811560907664; 45.39958863056824 11.871417121815327; 45.399903040917685 11.875024811192997; 45.4001905018086 11.880756175878089; 45.40138526113648 11.88907177196137; 45.40327172323313 11.868346747876885; 45.403361554761545 11.873464037774289; 45.40318189170472 11.87525508923838; 45.40390054393202 11.881395837115264; 45.40408020698884 11.885233804538316; 45.404259870045664 11.878837192166563; 45.40533784838661 11.872952308784548; 45.4067751528412 11.866043967423053; 45.4067751528412 11.874615428001205; 45.407125495802006 11.87499922474351; 45.40641582672755 11.874487495753769; 45.40875144646626 11.880116514640914; 45.40893110952308 11.868346747876885; 45.410278582449266 11.871417121815327; 45.40982942480721 11.871161257320457; 45.40938026716515 11.87499922474351; 45.408122625767376 11.88779244948702; 45.4112667292618 11.86246186449487; 45.41036841397768 11.880116514640914; 45.412165044545915 11.871545054062763; 45.41306335983003 11.87397576676403; 45.41324302288686 11.87499922474351; 45.41710577860857 11.866555696412794; 45.41611763179604 11.869881934846106; 45.41557864262557 11.880756175878089; 45.417195610136986 11.886513127012668];

refPoint = [45.409020941051494, 11.878197530929388];
%coordinates = table2array(readtable('coords.csv'));
%latitudes = refPoint(1) + coordinates(1,:);
%longitudes = coordinates(2,:);

geobasemap streets-light
geoplot(iab_nodes(:,1),iab_nodes(:,2),'.','MarkerSize',15,'Color',[0.6350 0.0780 0.1840])
hold on
geoplot(refPoint(1),refPoint(2),'^','MarkerSize',15,'MarkerFaceColor',[0.4660 0.6740 0.1880],'Color',[0.4660 0.6740 0.1880])

figure
geobasemap streets-light
refPoint_manhattan = [40.71688335983003 -73.97453340822256];
iab_nodes_manhattan=[40.710145995199134 -74.00593408485405; 40.71023582672755 -74.00463066054105; 40.71239178340943 -74.00534161925724; 40.71508672926179 -74.00522312613786; 40.71598504454591 -74.00528237269755; 40.72406988210299 -74.00451216742168; 40.724968197387106 -74.00427518118296; 40.72613600725646 -74.00439367430232; 40.7272139855974 -74.00439367430232; 40.710595152841194 -74.0017868256763; 40.70879852227295 -73.99645463530493; 40.70790020698883 -73.99349230732082; 40.70879852227295 -73.99464169057865; 40.710595152841194 -73.99349230732082; 40.71239178340943 -74.0017868256763; 40.71957830568239 -74.00297175686995; 40.717781675114146 -73.99823203209539; 40.718230832756205 -73.99704710090174; 40.71598504454591 -73.99230737612717; 40.721374936250626 -74.00297175686995; 40.721374936250626 -74.00131285319885; 40.724968197387106 -73.99823203209539; 40.725866512671224 -73.9988244976922; 40.727573311711055 -73.99823203209539; 40.72002746332445 -73.99941696328902; 40.72047662096651 -73.99704710090174; 40.72051255357787 -73.99645463530493; 40.721374936250626 -73.99763956649856; 40.719937631796036 -73.992899841724; 40.71984780026762 -73.99313682796273; 40.729459773807704 -74.0017868256763; 40.729639436864524 -74.00143134631821; 40.72883095310882 -73.99704710090174; 40.72990893144976 -73.9958621697081; 40.72999876297818 -73.99704710090174; 40.710145995199134 -73.99171491053036; 40.710595152841194 -73.9912409380529; 40.71068498436961 -73.98638272015897; 40.71095447895484 -73.9875676513526; 40.71329009869355 -73.98993751373989; 40.71598504454591 -73.99112244493354; 40.717781675114146 -73.99171491053036; 40.71957830568239 -73.99171491053036; 40.722273251534745 -73.99230737612717; 40.7226325776484 -73.99230737612717; 40.72658516489852 -73.99207038988845; 40.727573311711055 -73.99230737612717; 40.728561458523586 -73.99230737612717; 40.72406988210299 -73.99171491053036; 40.722273251534745 -73.98993751373989; 40.721374936250626 -73.98993751373989; 40.725866512671224 -73.99112244493354; 40.72047662096651 -73.9875676513526; 40.722273251534745 -73.98638272015897; 40.72317156681886 -73.98875258254625; 40.72317156681886 -73.9875676513526; 40.72362072446093 -73.98875258254625; 40.72451903974505 -73.98875258254625; 40.725417355029165 -73.98816011694943; 40.725866512671224 -73.98875258254625; 40.72406988210299 -73.98436833712978; 40.728561458523586 -73.9875676513526; 40.728561458523586 -73.98638272015897; 40.729010616165645 -73.98638272015897; 40.729459773807704 -73.9869751857558; 40.73035808909182 -73.98993751373989; 40.731076741319114 -73.98993751373989; 40.731705562018 -73.99052997933671; 40.73215471966006 -73.99171491053036; 40.710595152841194 -73.98519778896532; 40.71095447895484 -73.98460532336851; 40.71418841397767 -73.98460532336851; 40.71688335983003 -73.98519778896532; 40.717781675114146 -73.98460532336851; 40.72317156681886 -73.98519778896532; 40.72362072446093 -73.98567176144279; 40.72676482795534 -73.98519778896532; 40.728561458523586 -73.98519778896532; 40.72858840798211 -73.98567176144279; 40.72928011075088 -73.98638272015897; 40.72990893144976 -73.9875676513526; 40.73035808909182 -73.9869751857558; 40.73053775214865 -73.98650121327833; 40.73197505660324 -73.9869751857558; 40.73215471966006 -73.9875676513526; 40.73080724673388 -73.98519778896532; 40.73125640437594 -73.98519778896532; 40.73179539354641 -73.98567176144279; 40.73224455118847 -73.98436833712978; 40.71149346812531 -73.9816429953844; 40.717781675114146 -73.98223546098123; 40.724968197387106 -73.98294641969741; 40.729459773807704 -73.98057655731013; 40.73305303494418 -73.9803395710714; 40.71149346812531 -73.97690327060984; 40.71329009869355 -73.97749573620666; 40.70879852227295 -73.97097861464164; 40.71239178340943 -73.97216354583527; 40.71957830568239 -73.97927313299712; 40.71508672926179 -73.97216354583527; 40.71598504454591 -73.97334847702892; 40.71688335983003 -73.97453340822256; 40.71867999039827 -73.9757183394162; 40.721374936250626 -73.97512587381938; 40.722273251534745 -73.97453340822256; 40.72406988210299 -73.97690327060984; 40.725866512671224 -73.97808820180349; 40.72676482795534 -73.97714025684857; 40.726315670313284 -73.97690327060984; 40.72676482795534 -73.97927313299712; 40.72766314323946 -73.97453340822256; 40.728561458523586 -73.9757183394162; 40.729010616165645 -73.97631080501301; 40.72676482795534 -73.96979368344799; 40.73260387730212 -73.96979368344799; 40.73305303494418 -73.96920121785116; 40.71149346812531 -73.96268409628614; 40.70790020698883 -73.95912930270522; 40.712751109523076 -73.96386902747979; 40.71508672926179 -73.9674238210607; 40.715625718432264 -73.96623888986707; 40.71508672926179 -73.96031423389886; 40.71598504454591 -73.9614991650925; 40.72002746332445 -73.96268409628614; 40.71912914804033 -73.9614991650925; 40.71598504454591 -73.95675944031794; 40.71688335983003 -73.95723341279539; 40.72317156681886 -73.96860875225435; 40.724968197387106 -73.9674238210607; 40.725866512671224 -73.96801628665753; 40.72658516489852 -73.96849025913498; 40.72766314323946 -73.96623888986707; 40.73035808909182 -73.96730532794135; 40.725866512671224 -73.96268409628614; 40.7264055018417 -73.96268409628614; 40.7272139855974 -73.96197313756996; 40.729459773807704 -73.9614991650925; 40.72676482795534 -73.95794437151157; 40.73125640437594 -73.96268409628614; 40.73215471966006 -73.96268409628614; 40.73305303494418 -73.95912930270522; 40.709696837557075 -73.95640396095985; 40.71149346812531 -73.95675944031794; 40.710595152841194 -73.95438957793066; 40.71239178340943 -73.95201971554337; 40.71329009869355 -73.95083478434972; 40.71508672926179 -73.94609505957516; 40.717781675114146 -73.95438957793066; 40.71867999039827 -73.95403409857256; 40.722273251534745 -73.95498204352748; 40.72245291459157 -73.95438957793066; 40.71957830568239 -73.95083478434972; 40.72002746332445 -73.94846492196244; 40.717781675114146 -73.94964985315609; 40.71867999039827 -73.94846492196244; 40.72047662096651 -73.94739848388816; 40.722273251534745 -73.94964985315609; 40.721374936250626 -73.95201971554337; 40.724968197387106 -73.95201971554337; 40.725866512671224 -73.95083478434972; 40.72487836585869 -73.95012382563354; 40.72667499642693 -73.953204646737; 40.72766314323946 -73.95438957793066; 40.727573311711055 -73.953204646737; 40.728561458523586 -73.953204646737; 40.729459773807704 -73.95083478434972; 40.72317156681886 -73.94964985315609; 40.72317156681886 -73.9472799907688; 40.72451903974505 -73.94609505957516; 40.72451903974505 -73.94739848388816; 40.72892078463723 -73.94964985315609; 40.73035808909182 -73.94621355269453; 40.73125640437594 -73.95675944031794; 40.73035808909182 -73.95438957793066; 40.73125640437594 -73.95450807105001; 40.73026825756341 -73.95083478434972; 40.73305303494418 -73.95201971554337; 40.73035808909182 -73.9472799907688; 40.73125640437594 -73.95083478434972; 40.73215471966006 -73.953204646737; 40.73305303494418 -73.94751697700754; 40.73359202411465 -73.94609505957516; 40.733771687171476 -73.94514711462026; 40.73296320341577 -73.94491012838152; 40.7339513502283 -73.94491012838152; 40.73386151869989 -73.94609505957516; 40.70790020698883 -73.94479163526216; 40.71041548978437 -73.93661561002604; 40.71239178340943 -73.94372519718789; 40.71284094105149 -73.94348821094916; 40.71221212035261 -73.9413553348006; 40.712751109523076 -73.93661561002604; 40.71329009869355 -73.93543067883239; 40.71400875092085 -73.93661561002604; 40.71463757161973 -73.9443176627847; 40.71553588690385 -73.94372519718789; 40.71867999039827 -73.94384369030725; 40.71598504454591 -73.93898547241332; 40.717781675114146 -73.93898547241332; 40.71329009869355 -73.93780054121967; 40.71418841397767 -73.93898547241332; 40.717781675114146 -73.93543067883239; 40.71957830568239 -73.94254026599424; 40.71957830568239 -73.93424574763876; 40.721374936250626 -73.9413553348006; 40.721374936250626 -73.93898547241332; 40.722273251534745 -73.93436424075811; 40.72676482795534 -73.93543067883239; 40.72667499642693 -73.93827451369712; 40.72766314323946 -73.93898547241332; 40.72910044769405 -73.94467314214279; 40.73035808909182 -73.94372519718789; 40.73035808909182 -73.9413553348006; 40.73215471966006 -73.94372519718789; 40.73305303494418 -73.94017040360696; 40.7339513502283 -73.93661561002604; 40.73368185564306 -73.93424574763876; 40.730897078262295 -73.93543067883239; 40.73125640437594 -73.9334162958032; 40.73305303494418 -73.93187588525147; 40.7339513502283 -73.9330608164451; 40.73269370883053 -73.93436424075811; 40.728561458523586 -73.93436424075811];
geobasemap streets-light
geoplot(iab_nodes_manhattan(:,1),iab_nodes_manhattan(:,2),'.','MarkerSize',15,'Color',[0.6350 0.0780 0.1840])
hold on
geoplot(refPoint_manhattan(1),refPoint_manhattan(2),'^','MarkerSize',15,'MarkerFaceColor',[0.4660 0.6740 0.1880],'Color',[0.4660 0.6740 0.1880])
